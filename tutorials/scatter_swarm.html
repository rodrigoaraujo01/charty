<!doctype html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140139432-2"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-140139432-2');
        </script>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="apple-itunes-app" content="app-id=1494386093">
 
        <title>Charty – Create charts from Shortcuts</title>
 
        <!-- CSS -->
        <link href="https://fonts.googleapis.com/css?family=Lato:400,900" rel="stylesheet">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.6/css/all.css">
        <link rel="stylesheet" href="../assets/css/styles.css">

        <!-- Favicon and touch icons -->
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">

        <!-- META -->
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:site" content="@chartyios"/>
        <meta name="twitter:creator" content="@rodrigoaraujo"/>
        <meta property="og:url" content="https://chartyios.app/tutorials/scatter_swarm.html"/>
        <meta property="og:title" content="Creating swarms with scatter plots"/>
        <meta property="og:description" content="How to use scatter plots to create swarm plots."/>
        <meta property="og:image" content="https://chartyios.app/assets/img/og/og_swarm.png"/>
        
    </head>
 
    <body>
        <!-- Top menu -->
        <nav class="navbar fixed-top navbar-expand-md">
            <div class="container">
                <a class="navbar-brand" href="../index.html">
                    <img src="../assets/img/logo.png" width="32" height="32" class="d-inline-block align-top" alt="">
                    <span>Charty</span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <!-- <span class="navbar-toggler-icon"></span> -->
                    <span class="navbar-toggler-icon">   
                        <i class="fas fa-bars" style="font-size:28px;"></i>
                    </span>                    
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../blog.html">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../tutorials.html">Tutorials</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../examples.html">Examples</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../themes.html">Themes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../faq.html">FAQ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../press-kit.html">Press Kit</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="../privacy-policy.html">Privacy Policy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll-link" href="mailto:&#114;&#109;&#097;&#114;&#097;&#117;&#106;&#111;&#064;&#109;&#101;&#046;&#099;&#111;&#109;">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
 
        <!-- Top content -->

        
        <div id="main-content">
            <div class="container my-4 py-4">
                <div class="row pt-4 my-4">
                    <div class="col-0 col-md-2"></div> 
                    <div class="col-12 col-md-8">
                        <small><em>June 23, 2020</em></small>
                        <h1>Creating swarms with scatter plots</h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col-0 col-md-2"></div> 
                    <div class="col-12 col-md-8">
                        <p class="text-left">Using the strategy defined in this post, you'll be able to create charts showing the distribution of data over time.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/apple_swarm_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/apple_swarm_light.png" class="img-fluid rounded" width="400" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Apple products released each year</figcaption>
                        <p class="text-left">The idea here is to get how many products Apple released eah year and create this distribution over time. In order to understand how this is done, we'll split our shortcut into 3 parts: setting up, calculating and plotting.</p>

                        <h4 class="text-center mt-4">Part 1 - The setup</h4>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/sequence_1_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/sequence_1_light.png" class="img-fluid rounded" width="600" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Setting up for success</figcaption>
                        <p class="text-left">Each part will be split in four, and you can follow along inside the shortcut as there are comments mirroring the names of each section here.</p>
                        
                        <p class="text-left"><strong>Setup diameter of each dot</strong></p>
                        <p class="text-left">Each of the our products will be associated with a specific x value: 1 for iPhone, 2 for iPad, 3 for iPod and 4 for Apple Watch.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/swarm_values_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/swarm_values_light.png" class="img-fluid rounded" width="400" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Base x values for each product</figcaption>
                        <p class="text-left">For each year, we'll have to add a number of points equal to the number of products released that year. Calculating the y coordinates of these points is easy, as it's just a sequence based on the years. But for the x coordinates, we'll need to calculate them based on the number of points in each row, moving them left or right.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/swarm_diameter_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/swarm_diameter_light.png" class="img-fluid rounded" width="200" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Diameters for each dot</figcaption>
                        <p class="text-left">This is where the diameter parameter comes in. If we have three points in a row, as shown in the image above, the first one will have an x coordinate of the base product x minus the diameter, the second point will be right over the product base x, and the last point will be shifted one diameter to the right.</p>

                        <p class="text-left"><strong>Setup vertical labels (years) and setup horizontal labels (products)</strong></p>
                        <p class="text-left">These are just conventional text actions, containing one line for each of the years and one for each of the products. This is necessary to guarantee we'll be going through the years in the correct order.</p>

                        <p class="text-left"><strong>Setup data (JSON)</strong></p>
                        <p class="text-left">After scouring this <a href="https://en.wikipedia.org/wiki/Timeline_of_Apple_Inc._products">wikipedia page</a>, I've built a JSON dictionary to store our information.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/json_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/json_light.png" class="img-fluid rounded" width="500" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">JSON dictionary of Apple releases</figcaption>
    
                        <h4 class="text-center mt-4">Part 2 - The calculations</h4>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/sequence_2_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/sequence_2_light.png" class="img-fluid rounded" width="600" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Repeating calculations</figcaption>
                        <p class="text-left">Part 2 happens entirely inside a repeat loop that's ran once for each of the years we've defined as our vertical labels.</p>
                        <p class="text-left">At first, I wanted all these sections to be another repeat loop, iterating over our products list, but I couldn't come up with a strategy that allowed me to do this, mostly because of how Shortcuts handles variables.</p>
                        <p class="text-left"><em>As I'm writing this, I'm thinking it might have been possible using Data Jar, so as an academic endeavor, I'll leave this test to you: my dear reader.</em></p>
                        <p class="text-left">Each of these sections get the number of a given product released in the current year and calculates the corresponding x and y coordinates, based on what we discussed above, adding them to 4 different series. As you may already have guessed, 4 series are needed because we want our products to have different colors.</p>

                        <h4 class="text-center mt-4">Part 3 - The plotting</h4>
                        <p class="text-left">After the repeat loop, we proceed to the chart creation. It's a very conventional scatter chart with 4 different series, and we use two <strong>Style Axis</strong> actions to format both axes using custom labels.</p>
                        <p class="text-left">Don't be scared when you open your newly created chart in Charty, because there's still something we need to do: modify the export profile. This is needed to guarantee we get the best chart dimensions associated with the best markers size, so everything looks correctly. Below is a screenshot of my very obviously named Export Profile: swarm.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/export_profile_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/export_profile_light.png" class="img-fluid rounded" width="400" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Swarm export profile</figcaption>

                        <p class="text-left">And here is our final result, and a link to download this shortcut. This strategy can be used to create this kind of chart for any dataset you can build, you'll spent most of your time modifying the setup, and will have to update your calculation blocks with the name of your x labels.</p>
                        <picture>
                            <source srcset="../assets/img/tutorials/4_swarm/apple_swarm_dark.png" media="(prefers-color-scheme: dark)">
                            <img src="../assets/img/tutorials/4_swarm/apple_swarm_light.png" class="img-fluid rounded" width="400" alt="">
                        </picture>
                        <figcaption class="text-center figure-caption">Apple products released each year</figcaption>

                        <div class="row mt-4">
                            <div class="col-0 col-md-2"></div> 
                            <div class="col-12 col-md-8">
                                <button type="button" class="btn btn-primary"><a class="text-white" href="https://www.icloud.com/shortcuts/2e6ad3e3172b4ee8a49d0970a6342454">Download the shortcut</a></button>
                            </div>
                        </div>
                        <p><em><small>This shortcut requires Charty 1.1.3 and also uses Charty's premium actions</small></em></p>
                    </div>
                </div>
            </div>
        </div>





        

        <!-- Footer -->
        <div id="footer">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <p class="m-0 p-0">
                            Developed by <a href="https://twitter.com/rodrigoaraujo">Rodrigo Araújo</a>
                        </p>
                        <p class="m-0 p-0">
                            <a href="https://twitter.com/chartyios"><i class="fab fa-twitter"></i>chartyios</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Javascript -->
        <script src="../assets/js/jquery-3.2.1.min.js"></script>
        <script src="../assets/js/jquery-migrate-3.0.0.min.js"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> -->
        <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <!-- <script src="../assets/js/jquery.backstretch.min.js"></script> -->
        <!-- <script src="../assets/js/wow.min.js"></script> -->
        <!-- <script src="../assets/js/retina-1.1.0.min.js"></script> -->
        <!-- <script src="../assets/js/waypoints.min.js"></script> -->
        <script src="../assets/js/scripts.js"></script>
    </body>
</html>
